<!DOCTYPE html>
<meta charset="UTF-8">
<body>
    <div id="disp"></div>
    <button onclick="posSort()"></button>
</body>
<script>
    const blackPink = [
        {name : "로제", age : 26, song : "다"},
        {name : "제니", age : 27, song : "나"},
        {name : "리사", age : 26, song : "마"},
        {name : "지수", age : 28, song : "라"},
        {name : "지혜", age : 25, song : "가"}
    ];

    // a - b 로 적으면 객체가 들어와서 불가능
    blackPink.sort(function(a, b){

        // return a.age - b.age;    // 숫자인 경우

        // 문자열일 경우
        if(a.name > b.name){ return 1; }
        if(a.name == b.name){ return 0; }
        if(a.name < b.name){ return -1; }
        
    })

    console.log("나이순 정렬 : ",blackPink);


    const myDisp = document.querySelector('#disp');

    const position = {
        "level1" : "회장님",
        "level2" : "사장님",
        "level3" : "이장님",
        "level4" : "반장님"
    };

    const jumins = [
        {name : "신국현", age : 100, pos : "level1"},
        {name : "전지혜", age : 50, pos : "level4"},
        {name : "이수진", age : 25, pos : "level3"},
        {name : "김지원", age : 20, pos : "level4"},
        {name : "변정민", age : 30, pos : "level2"}
    ];

    // 자주 사용되는 문자열로 table 만들기
    // 배열식 접근법 중요!!!!!!! -> .접근법보다 속도가 느리기 때문에 특별한 상황에만 배열식 접근법 적용
    function strInner(){
        var tblSTr = "<table border=2>";
            tblSTr += 
            `<tr>
                <th>순번</th><th onclick="nameSort()">이름</th><th onclick="ageSort()">나이</th><th onclick="posSort()">직책</th>
            </tr>`;
        for(let i=0; i<jumins.length; i++){
            tblSTr += "<tr>";
            tblSTr += `<td>${i+1}</td>`;
            tblSTr += `<td>${jumins[i].name}</td>`;
            tblSTr += `<td>${jumins[i].age}</td>`;
            tblSTr += `<td>${position[jumins[i].pos]}</td>`;    // 잊으면 안됨! 배열식 접근법 중요
            tblSTr += "</tr>";
        }
    
        tblSTr += "</table>";
        myDisp.innerHTML = tblSTr;
    }
    strInner();

    function nameSort(){
        jumins.sort(function(a, b){
            if(a.name > b.name){ return 1; }
            if(a.name == b.name){ return 0; }
            if(a.name < b.name){ return -1; }
        });
        strInner();
        console.log("nameSort");
    }

    function ageSort(){
        jumins.sort(function(a, b){
            return a.age - b.age;
        });
        strInner();
        console.log("ageSort");
    }
    
    function posSort(){
        jumins.sort(function(a, b){
            if(a.pos < b.pos){ return 1; }
            if(a.pos == b.pos){ return 0; }
            if(a.pos > b.pos){ return -1; }
        });
        strInner();
        console.log("positionSort");
    }
</script>