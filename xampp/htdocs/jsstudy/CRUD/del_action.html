<!DOCTYPE html>
<meta charset="UTF-8">
<script src="./jsp.js"></script>
<script>
    // 삭제는 num값하고, 배열의 splice 멧뫈 있으면 금방한다.
    let num = request.getParameter('n_num');

    const tblName = "uglyGesi";
    let dataArr = JSON.parse(localStorage.getItem(tblName));

    for(let i=0; i<dataArr.length; i++){
        if(dataArr[i].num == num){
            dataArr.splice(i, 1);   // 이런 걸 파괴적 메서드라고 부른다.

            break;
        }
    }

    // 로컬 스토리지에 다시 저장(Update -> 덮어쓰기)
    localStorage.setItem(tblName, JSON.stringify(dataArr));
    alert('글이 잘 삭제되었습니다.');
    location.replace("list.html");
</script>